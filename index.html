<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Главная - Название вашего сайта</title>
<meta name="description" content="Краткое описание главной страницы вашего сайта">
<link rel="icon" href="assets/favicon.ico" type="image/x-icon">
<style>
/* Базовые стили */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  line-height: 1.6;
  color: #333;
  background-color: #f9f9f9;
}

/* Шапка сайта */
header {
  background-color: #2c3e50;
  color: white;
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header a {
  color: white;
  text-decoration: none;
  font-weight: bold;
}

nav ul {
  display: flex;
  list-style: none;
}

nav ul li {
  margin-left: 1.5rem;
}

/* Основное содержимое */
main {
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

section {
  margin-bottom: 3rem;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

h1, h2 {
  margin-bottom: 1rem;
  color: #2c3e50;
}

p {
  margin-bottom: 1rem;
}

/* Подвал сайта */
footer {
  background-color: #2c3e50;
  color: white;
  text-align: center;
  padding: 1.5rem;
  margin-top: 2rem;
}

/* Кнопка вызова модального окна */
.contact-button {
  display: inline-block;
  background-color: #3498db;
  color: white;
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
  margin-top: 1rem;
  transition: background-color 0.3s;
}

.contact-button:hover {
  background-color: #2980b9;
}

/* Стили для модального окна */
dialog {
  border: none;
  border-radius: 8px;
  padding: 0;
  width: 90%;
  max-width: 600px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

dialog::backdrop {
  background-color: rgba(0, 0, 0, 0.6);
}

.modal-header {
  background-color: #3498db;
  color: white;
  padding: 1.2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h2 {
  margin: 0;
  color: white;
}

.close-button {
  background: none;
  border: none;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.close-button:hover {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
}

.modal-body {
  padding: 1.5rem;
}

/* Стили формы */
.form-group {
  margin-bottom: 1.2rem;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: bold;
}

input, select, textarea {
  width: 100%;
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #3498db;
  box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
}

.error-message {
  color: #e74c3c;
  font-size: 0.85rem;
  margin-top: 0.3rem;
  display: none;
}

input:invalid, select:invalid, textarea:invalid {
  border-color: #e74c3c;
}

.submit-button {
  background-color: #2ecc71;
  color: white;
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s;
  width: 100%;
}

.submit-button:hover {
  background-color: #27ae60;
}

.success-message {
  background-color: #d4edda;
  color: #155724;
  padding: 1rem;
  border-radius: 4px;
  margin-top: 1rem;
  display: none;
}

/* Адаптивность */
@media (max-width: 768px) {
  header {
    flex-direction: column;
    text-align: center;
  }
  
  nav ul {
    margin-top: 1rem;
    justify-content: center;
  }
  
  nav ul li {
    margin: 0 0.5rem;
  }
  
  dialog {
    width: 95%;
    margin: 1rem;
  }
}
</style>
</head>
<body>
<!-- Шапка сайта -->
<header>
<a href="/">Логотип или название сайта</a>
<!-- Главное меню навигации -->
<nav>
<ul>
<li><a href="index.html">Главная</a></li>
<li><a href="about.html">О нас</a></li>
<li><a href="contacts.html">Контакты</a></li>
</ul>
</nav>
</header>

<!-- Уникальное основное содержимое страницы -->
<main>
<h1>Добро пожаловать на мой сайт!</h1>

<!-- Секция 1 с якорем -->
<section id="services">
<h2>Предоставляю ряд услуг</h2>
<p>Разработка сайтов</p>
<p>Тестировка</p>
<a href="#contacts">Связаться с нами</a> <!-- Якорная ссылка внутри страницы -->
</section>

<!-- Секция 2 с якорем -->
<section id="portfolio">
<h2>Портфолио</h2>
<p>Примеры моших работ...</p>
</section>

<!-- Секция 3 с якорем -->
<section id="contacts">
<h2>Контактная информация</h2>
<p>Наши контакты...</p>
<a href="contacts.html">Подробнее</a> <!-- Ссылка на отдельную страницу -->
<button class="contact-button" id="openModal">Связаться с нами</button>
</section>
</main>

<!-- Подвал сайта -->
<footer>
<p>&copy; 2023 Название вашего сайта. Все права защищены.</p>
<p>Телефон: +7 (123) 456-78-90</p>
</footer>

<!-- Модальное окно с формой -->
<dialog id="contactModal">
<div class="modal-header">
<h2>Форма обратной связи</h2>
<button class="close-button" id="closeModal">&times;</button>
</div>
<div class="modal-body">
<form id="contactForm" novalidate>
<div class="form-group">
<label for="email">Email:</label>
<input type="email" id="email" name="email" required placeholder="Введите ваш email">
<div class="error-message" id="emailError">Пожалуйста, введите корректный email</div>
</div>

<div class="form-group">
<label for="phone">Телефон:</label>
<input type="tel" id="phone" name="phone" required placeholder="+7 (123) 456-78-90" pattern="^(\+7|8)[\s(]*\d{3}[)\s]*\d{3}[\s-]?\d{2}[\s-]?\d{2}$">
<div class="error-message" id="phoneError">Пожалуйста, введите корректный номер телефона</div>
</div>

<div class="form-group">
<label for="date">Дата:</label>
<input type="date" id="date" name="date" required>
<div class="error-message" id="dateError">Пожалуйста, выберите дату</div>
</div>

<div class="form-group">
<label for="service">Услуга:</label>
<select id="service" name="service" required>
<option value="">-- Выберите услугу --</option>
<option value="development">Разработка сайтов</option>
<option value="testing">Тестировка</option>
<option value="consultation">Консультация</option>
</select>
<div class="error-message" id="serviceError">Пожалуйста, выберите услугу</div>
</div>

<div class="form-group">
<label for="message">Сообщение:</label>
<textarea id="message" name="message" rows="4" required placeholder="Введите ваше сообщение"></textarea>
<div class="error-message" id="messageError">Пожалуйста, введите сообщение</div>
</div>

<button type="submit" class="submit-button">Отправить</button>
</form>
<div class="success-message" id="successMessage">
Сообщение успешно отправлено! Мы свяжемся с вами в ближайшее время.
</div>
</div>
</dialog>

<script>
// Получаем элементы DOM
const modal = document.getElementById('contactModal');
const openModalButton = document.getElementById('openModal');
const closeModalButton = document.getElementById('closeModal');
const contactForm = document.getElementById('contactForm');
const successMessage = document.getElementById('successMessage');

// Открытие модального окна
openModalButton.addEventListener('click', () => {
  modal.showModal();
});

// Закрытие модального окна
closeModalButton.addEventListener('click', () => {
  modal.close();
  resetForm();
});

// Закрытие модального окна при нажатии на Esc
modal.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    modal.close();
    resetForm();
  }
});

// Клик вне модального окна для закрытия
modal.addEventListener('click', (e) => {
  const dialogDimensions = modal.getBoundingClientRect();
  if (
    e.clientX < dialogDimensions.left ||
    e.clientX > dialogDimensions.right ||
    e.clientY < dialogDimensions.top ||
    e.clientY > dialogDimensions.bottom
  ) {
    modal.close();
    resetForm();
  }
});

// Валидация формы
contactForm.addEventListener('submit', (e) => {
  e.preventDefault();
  
  // Проверяем валидность всех полей
  const isEmailValid = validateField('email', 'emailError');
  const isPhoneValid = validateField('phone', 'phoneError');
  const isDateValid = validateField('date', 'dateError');const isServiceValid = validateField('service', 'serviceError');
  const isMessageValid = validateField('message', 'messageError');
  
  // Если все поля валидны, показываем сообщение об успехе
  if (isEmailValid && isPhoneValid && isDateValid && isServiceValid && isMessageValid) {
    successMessage.style.display = 'block';
    
    // Через 3 секунды закрываем модальное окно
    setTimeout(() => {
      modal.close();
      resetForm();
    }, 3000);
  }
});

// Функция валидации поля
function validateField(fieldId, errorId) {
  const field = document.getElementById(fieldId);
  const error = document.getElementById(errorId);
  
  if (!field.checkValidity()) {
    error.style.display = 'block';
    return false;
  } else {
    error.style.display = 'none';
    return true;
  }
}

// Функция сброса формы
function resetForm() {
  contactForm.reset();
  successMessage.style.display = 'none';
  
  // Скрываем все сообщения об ошибках
  const errorMessages = document.querySelectorAll('.error-message');
  errorMessages.forEach(error => {
    error.style.display = 'none';
  });
}

// Маска для телефона
const phoneInput = document.getElementById('phone');
phoneInput.addEventListener('input', function(e) {
  let value = e.target.value.replace(/\D/g, '');
  
  // Если первый символ 8, заменяем на +7
  if (value.startsWith('8')) {
    value = '7' + value.slice(1);
  }
  
  // Форматируем номер
  let formattedValue = '+7';
  if (value.length > 1) {
    formattedValue += ' (' + value.slice(1, 4);
  }
  if (value.length >= 5) {
    formattedValue += ') ' + value.slice(4, 7);
  }
  if (value.length >= 8) {
    formattedValue += '-' + value.slice(7, 9);
  }
  if (value.length >= 10) {
    formattedValue += '-' + value.slice(9, 11);
  }
  
  e.target.value = formattedValue;
});

// Валидация при вводе для скрытия сообщений об ошибках
const formFields = contactForm.querySelectorAll('input, select, textarea');
formFields.forEach(field => {
  field.addEventListener('input', () => {
    const errorId = field.id + 'Error';
    const errorElement = document.getElementById(errorId);
    if (errorElement) {
      errorElement.style.display = 'none';
    }
  });
});
</script>
</body>
</html>
